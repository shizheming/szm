/*Ignore this, codepen-only styling*/
*,
*::before,
*::after {
	box-sizing: border-box;
}

body {
  display: flex;
	flex-direction: column;
	justify-content: center;
	align-items: center;
	padding: 20px;
	
	.demo-box {
		margin: 60px;
	}
	
  .demo-box > span {
    padding: 20px;
    border: 2px solid black;
  }
}
/********************************/

$c__text--tooltip: white;
$c__bg--tooltip: black;
$tooltip__width: 160px;
$tooltip__triangle-size: 5px;
$tooltip__font-size: 12px;

[data-tooltip] {
  position: relative;
  z-index: 2;
  cursor: help;

  &:before,
  &:after {
    visibility: hidden;
    opacity: 0;
    pointer-events: none;
		display: inline-table; //to support dynamic height
  }

  &:before {
    content: attr(data-tooltip);
    position: absolute;
    width: $tooltip__width;
    padding: 10px;
    background-color: $c__bg--tooltip;
    background-color: hsla(0, 0%, 20%, 0.9);
    color: $c__text--tooltip;
    text-align: center;
		font-size: $tooltip__font-size;
    
		bottom: calc(100% + 4px);
    left: 50%;
    transform: translate(-50%, -3px);
  }

  /* Triangle */
  &:after {
    position: absolute;
    bottom: calc(100% + 3px);
    left: 50%;
    margin-left: -$tooltip__triangle-size;
    width: 0;
    border-top: $tooltip__triangle-size solid $c__bg--tooltip;
    border-top: $tooltip__triangle-size solid hsla(0, 0%, 20%, 0.9);
    border-right: $tooltip__triangle-size solid transparent;
    border-left: $tooltip__triangle-size solid transparent;
    content: " ";
    font-size: 0;
    line-height: 0;
  }

	&.tooltip--left {
		@media (min-width: 480px) {
			&:before {
				top: 50%;
				left: 0%;
				transform: translate(-100%, -50%);
				margin-left: -7px;
			}

			/* Triangle */
			&:after {
				bottom: 50%;
				left: calc(0% - 2px);
				transform: translate(0%, 50%);
				margin-left: -5px;
				
				border-left: $tooltip__triangle-size solid $c__bg--tooltip;
				border-left: $tooltip__triangle-size solid hsla(0, 0%, 20%, 0.9);
				border-top: $tooltip__triangle-size solid transparent;
				border-bottom: $tooltip__triangle-size solid transparent;
			}
		}
	}

	&.tooltip--right {
		@media (min-width: 480px) {
			&:before {
				top: 50%;
				left: 100%;
				transform: translate(3px, -50%);
				margin-left: 4px;
			}

			/* Triangle */
			&:after {
				bottom: 50%;
				left: 100% ;
				transform: translate(0, 50%);
				margin-left: -3px;
				
				border-right: $tooltip__triangle-size solid $c__bg--tooltip;
				border-right: $tooltip__triangle-size solid hsla(0, 0%, 20%, 0.9);
				border-top: $tooltip__triangle-size solid transparent;
				border-bottom: $tooltip__triangle-size solid transparent;
			}
		}
	}
	
	&:hover {
		&:before,
		&:after {
			visibility: visible;
			opacity: 1;
		}	
	}
}
