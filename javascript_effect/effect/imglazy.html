<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<title>imglazy</title>
</head>
<body>

<script>


// 图片懒加载
function initImg() {
	var doc = document;
	// 图片代理
	var imgProxy = (function() {
		// 图片本体
		function imgSrc(dom, url) {
			dom.src = url;
		}
		return function(that) {
			var img = doc.createElement('img');
			imgSrc(that, '//rwhstorage-pub.oss-cn-shanghai.aliyuncs.com/dist/images/initImg.png');
			img.src = that.dataset.src;
			img.onload = function() {
				imgSrc(that, that.dataset.src);
			};
		};
	})();
	// 初始默认图片
	[].forEach.call(doc.querySelectorAll('img[data-src]'), function(a, b, c) {
		imgProxy(a);
	});
}

</script>
</body>
</html>