<!DOCTYPE html>
<html lang="zh">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<link rel="stylesheet" href="../../css_passage/css_reset.css">
	<link rel="stylesheet" href="css/css.css">
	<style>
		label{display:block;}
	</style>
</head>
<body>
	<form action="xxx.php" id="formValidation">
		<label for="">手机：<input type="text" name="phone"></label>
		<label for="">用户名：<input type="text" name="user"></label>
		<label for="">密码：<input type="password" name="ps"></label>
		<label for="">确认密码：<input type="password" name="ps2"></label>
		<label for="">第一性别：男<input type="radio" name="sex" value="男">女<input type="radio" name="sex" value="女"></label>
		<label for="">第二性别：人妖<input type="radio" name="sex2">太监<input type="radio" name="sex2"></label>
		<label for=""><textarea name="text" id="text" cols="30" rows="10"></textarea></label>
		<label for="">请勾选用户协议<input type="checkbox" name="tpc"></label>
		
		<input type="submit" value="提交">
	</form>
	<script src="../../javascript_passage/mScore.js"></script>
	<script src="../../javascript_passage/js_passage.js"></script>
	<script src="js/formValidation.3.0.js"></script>
	<script>

		var fv = new FormValidation('formValidation',[{
				iptName : 'user',
				regex : /^.+$/
			},{
				iptName : 'tpc',
				chinaName : '用户协议'
			},{
				chinaName : '密码',
				iptName : 'ps',
				regex : /^.+$/
			},{
				chinaName : '文本内容',
				iptName : 'text',
				message : '不能超过5个字',
				depends : function(ipt){
					return ipt.element.value.length < 5;
				}
			},{
				chinaName : '手机',
				iptName : 'phone',
				regex : /^\d+$/
			},{
				chinaName : '确认密码',
				iptName : 'ps2',
				regex : /^.+$/,
				addRules : 'matches[ps]'
			},{
				chinaName : '第一性别',
				iptName : 'sex'
			},{
				chinaName : '第二性别',
				iptName : 'sex2'
			}],function(ipt){
				var element = ipt.element.length > 1 ? ipt.element[ipt.element.length - 1] : ipt.element ;
				var div = element.parentNode.getElementsByClassName('div')[0];
				if(!ipt.active){
					if(div) element.parentNode.removeChild(div);
					var div = document.createElement('div');
					div.innerHTML = ipt.message;
					div.style.display = 'inline-block';
					div.className = 'div';
					method.insertAfter(element,div);
					method.rep(element,'true','false');
				}else{
					if(div) element.parentNode.removeChild(div);
					method.rep(element,'false','true');

				}
			});


	</script>
</body>
</html>