<!---------------------------------- 

名称：popUp.js
版本：2.0
时间：2016.11
更新：1.排除用户事件
      2.动态输出

---------------------------------->

<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width">
<title>Document</title>
<style>
*{padding:0;margin:0;}
#popUp{position:fixed;top:0;left:0;right:0;bottom:0;font-family:'Microsoft YaHei';}
#popUp>.mark{background-color:rgba(0,0,0,.1);top:0;left:0;right:0;bottom:0;position:absolute;}
#popUp>.content{border-radius:6px;width:70%;height:20%;background-color:#fff;position:absolute;top:0;left:0;right:0;bottom:0;margin:auto;z-index:2;}
#popUp .close{float:right;margin:10px 10px 0 0;cursor:pointer;}
#popUp.mm{opacity:1;}
#popUp .ys{width:70%;height:25%;background-color:#f73e3e;text-align:center;line-height:2;color:#fff;margin:auto;position:absolute;left:0;right:0;bottom:10px;border-radius:4px;}
#popUp .con{text-align:center;line-height:4rem;}

</style>
</head>
<body>

<!-- <div id="popUp">
	<div class="content">
		<div class="con"></div>
		<div class="ys">确定</div>
	</div>
	<div class="mark"></div>
</div> -->
<script>

function popUp(str, uf) {

	// 创建div
	function createDom(n, fn) {
		var doc = document;
		var popUp = doc.createElement('div');
		popUp.id = 'popUp';
		popUp.innerHTML = '<div class="content"><div class="con">' + n + '</div><div class="ys">确定</div></div><div class="mark"></div>';
		fn(popUp, doc, uf);
		return popUp;
	}

	// 绑定事件
	function et(dom, doc, fn) {
		dom.querySelector('.ys').addEventListener('touchstart', function() {
			doc.body.removeChild(dom);
			fn && fn();
		}, false);
	}

	return createDom(str, et);

}

document.body.appendChild(popUp('你好baby', function() {
	alert(234234);
}));
</script>
</body>
</html>